<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Ø³ÛŒØ³ØªÙ… Ú©Ø§Ù…Ù„ Ø¨Ø§Ø±Ú©Ø¯Ø®ÙˆØ§Ù† Ùˆ ÙØ±ÙˆØ´</title>
 <style>
 * {
 box-sizing: border-box;
 margin: 0;
 padding: 0;
 }
 
 body {
 font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
 background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
 min-height: 100vh;
 padding: 10px;
 }
 
 .container {
 max-width: 1400px;
 margin: 0 auto;
 background: white;
 border-radius: 15px;
 box-shadow: 0 10px 30px rgba(0,0,0,0.3);
 overflow: hidden;
 }
 
 .header {
 background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
 color: white;
 padding: 20px;
 text-align: center;
 }
 
 .header h1 {
 font-size: 2.2em;
 margin-bottom: 5px;
 text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
 }
 
 .tabs {
 display: flex;
 background: #f8f9fa;
 border-bottom: 2px solid #dee2e6;
 }
 
 .tab {
 flex: 1;
 padding: 15px;
 text-align: center;
 cursor: pointer;
 background: #e9ecef;
 border: none;
 font-size: 16px;
 font-weight: bold;
 transition: all 0.3s ease;
 }
 
 .tab.active {
 background: white;
 color: #007bff;
 border-bottom: 3px solid #007bff;
 }
 
 .tab:hover {
 background: #f8f9fa;
 }
 
 .tab-content {
 display: none;
 padding: 30px;
 }
 
 .tab-content.active {
 display: block;
 }
 
 .scan-area {
 background: #f8f9fa;
 border: 3px dashed #007bff;
 border-radius: 15px;
 padding: 30px;
 text-align: center;
 margin: 20px 0;
 }
 
 .scan-input {
 width: 100%;
 padding: 20px;
 font-size: 24px;
 border: 3px solid #e9ecef;
 border-radius: 10px;
 text-align: center;
 font-family: 'Courier New', monospace;
 background: white;
 transition: all 0.3s ease;
 }
 
 .scan-input:focus {
 border-color: #007bff;
 outline: none;
 box-shadow: 0 0 20px rgba(0,123,255,0.3);
 }
 
 .scan-input.scanning {
 border-color: #28a745;
 background: #f8fff8;
 animation: pulse 1s infinite;
 }
 
 @keyframes pulse {
 0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
 70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
 100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
 }
 
 .form-group {
 margin: 15px 0;
 }
 
 .form-group label {
 display: block;
 margin-bottom: 5px;
 font-weight: bold;
 color: #495057;
 }
 
 .form-group input, .form-group textarea, .form-group select {
 width: 100%;
 padding: 12px;
 border: 2px solid #dee2e6;
 border-radius: 8px;
 font-size: 16px;
 }
 
 .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
 border-color: #007bff;
 outline: none;
 }
 
 .btn {
 padding: 12px 25px;
 border: none;
 border-radius: 8px;
 cursor: pointer;
 font-size: 16px;
 font-weight: bold;
 transition: all 0.3s ease;
 margin: 5px;
 }
 
 .btn-primary { background: #007bff; color: white; }
 .btn-success { background: #28a745; color: white; }
 .btn-danger { background: #dc3545; color: white; }
 .btn-warning { background: #ffc107; color: #212529; }
 .btn-info { background: #17a2b8; color: white; }
 
 .btn:hover {
 transform: translateY(-2px);
 box-shadow: 0 5px 15px rgba(0,0,0,0.3);
 }
 
 .product-grid {
 display: grid;
 grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
 gap: 20px;
 margin: 20px 0;
 }
 
 .product-card {
 background: white;
 border: 2px solid #dee2e6;
 border-radius: 10px;
 padding: 20px;
 box-shadow: 0 2px 10px rgba(0,0,0,0.1);
 transition: all 0.3s ease;
 }
 
 .product-card:hover {
 border-color: #007bff;
 transform: translateY(-5px);
 box-shadow: 0 5px 20px rgba(0,123,255,0.3);
 }
 
 .product-barcode {
 text-align: center;
 margin: 15px 0;
 }
 
 .product-info {
 margin: 10px 0;
 }
 
 .product-info strong {
 color: #495057;
 }
 
 .price {
 font-size: 1.5em;
 font-weight: bold;
 color: #28a745;
 }
 
 .pos-container {
 display: grid;
 grid-template-columns: 1fr 400px;
 gap: 20px;
 height: 600px;
 }
 
 .pos-left {
 background: #f8f9fa;
 border-radius: 10px;
 padding: 20px;
 }
 
 .pos-right {
 background: #212529;
 color: white;
 border-radius: 10px;
 padding: 20px;
 font-family: monospace;
 }
 
 .cart-item {
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 10px;
 border-bottom: 1px solid #495057;
 margin: 5px 0;
 }
 
 .cart-item:hover {
 background: rgba(255,255,255,0.1);
 }
 
 .cart-total {
 border-top: 2px solid #ffc107;
 padding-top: 15px;
 margin-top: 15px;
 font-size: 1.2em;
 font-weight: bold;
 }
 
 .notification {
 position: fixed;
 top: 20px;
 right: 20px;
 padding: 15px 25px;
 border-radius: 10px;
 color: white;
 font-weight: bold;
 z-index: 1000;
 opacity: 0;
 transform: translateX(100%);
 transition: all 0.3s ease;
 }
 
 .notification.show {
 opacity: 1;
 transform: translateX(0);
 }
 
 .notification.success { background: #28a745; }
 .notification.error { background: #dc3545; }
 .notification.info { background: #17a2b8; }
 
 .stats-grid {
 display: grid;
 grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
 gap: 15px;
 margin: 20px 0;
 }
 
 .stat-box {
 background: linear-gradient(45deg, #667eea, #764ba2);
 color: white;
 padding: 20px;
 border-radius: 10px;
 text-align: center;
 }
 
 .stat-number {
 font-size: 2em;
 font-weight: bold;
 }
 
 .modal {
 display: none;
 position: fixed;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 background: rgba(0,0,0,0.8);
 z-index: 2000;
 }
 
 .modal-content {
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translate(-50%, -50%);
 background: white;
 padding: 30px;
 border-radius: 15px;
 max-width: 500px;
 width: 90%;
 }
 
 .close {
 position: absolute;
 top: 10px;
 right: 15px;
 font-size: 30px;
 cursor: pointer;
 }
 
 .barcode-display {
 text-align: center;
 margin: 20px 0;
 }
 
 @media (max-width: 768px) {
 .pos-container {
 grid-template-columns: 1fr;
 height: auto;
 }
 
 .product-grid {
 grid-template-columns: 1fr;
 }
 
 .tabs {
 flex-direction: column;
 }
 }
 </style>
 
 <!-- JsBarcode Library -->
 <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
</head>
<body>
 <div class="container">
 <div class="header">
 <h1>ğŸ›’ Ø³ÛŒØ³ØªÙ… Ú©Ø§Ù…Ù„ Ø¨Ø§Ø±Ú©Ø¯Ø®ÙˆØ§Ù† Ùˆ ÙØ±ÙˆØ´</h1>
 <p>Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§ØªØŒ Ø§Ø³Ú©Ù† Ø¨Ø§Ø±Ú©Ø¯ Ùˆ Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø² ÙØ±ÙˆØ´</p>
 </div>

 <div class="tabs">
 <button class="tab active" onclick="showTab('scanner')">ğŸ” Ø§Ø³Ú©Ù† Ø¨Ø§Ø±Ú©Ø¯</button>
 <button class="tab" onclick="showTab('products')">ğŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</button>
 <button class="tab" onclick="showTab('pos')">ğŸ’° ØµÙ†Ø¯ÙˆÙ‚ ÙØ±ÙˆØ´</button>
 <button class="tab" onclick="showTab('reports')">ğŸ“Š Ú¯Ø²Ø§Ø±Ø´Ø§Øª</button>
 </div>

 <!-- Tab 1: Scanner -->
 <div id="scanner" class="tab-content active">
 <div class="scan-area">
 <h3>ğŸ¯ Ø§Ø³Ú©Ù† Ø¨Ø§Ø±Ú©Ø¯ Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
 <p>Ø±ÙˆÛŒ ÙÛŒÙ„Ø¯ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§Ø±Ú©Ø¯ Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯</p>
 <input type="text" 
 id="barcode-input" 
 class="scan-input"
 placeholder="ğŸ” Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯ Ùˆ Ø¨Ø§Ø±Ú©Ø¯ Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯..."
 autocomplete="off">
 
 <div id="scan-result" style="margin-top: 20px;"></div>
 </div>

 <div class="stats-grid">
 <div class="stat-box">
 <div class="stat-number" id="total-scans">0</div>
 <div>Ú©Ù„ Ø§Ø³Ú©Ù†â€ŒÙ‡Ø§</div>
 </div>
 <div class="stat-box">
 <div class="stat-number" id="found-products">0</div>
 <div>Ù…Ø­ØµÙˆÙ„Ø§Øª ÛŒØ§ÙØª Ø´Ø¯Ù‡</div>
 </div>
 <div class="stat-box">
 <div class="stat-number" id="unknown-barcodes">0</div>
 <div>Ø¨Ø§Ø±Ú©Ø¯Ù‡Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡</div>
 </div>
 </div>
 </div>

 <!-- Tab 2: Products -->
 <div id="products" class="tab-content">
 <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
 <div>
 <h3>â• Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</h3>
 <form id="product-form">
 <div class="form-group">
 <label>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„:</label>
 <input type="text" id="product-name" required>
 </div>
 
 <div class="form-group">
 <label>Ø¨Ø§Ø±Ú©Ø¯ Ù…Ø­ØµÙˆÙ„:</label>
 <div style="display: flex; gap: 10px;">
 <input type="text" id="product-barcode" required>
 <button type="button" class="btn btn-info" onclick="generateRandomBarcode()">
 ğŸ² ØªÙˆÙ„ÛŒØ¯ Ø±Ù†Ø¯ÙˆÙ…
 </button>
 </div>
 </div>
 
 <div class="form-group">
 <label>Ù‚ÛŒÙ…Øª (Ø±ÛŒØ§Ù„):</label>
 <input type="number" id="product-price" required>
 </div>
 
 <div class="form-group">
 <label>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</label>
 <select id="product-category">
 <option value="Ø®ÙˆØ±Ø§Ú©ÛŒ">Ø®ÙˆØ±Ø§Ú©ÛŒ</option>
 <option value="Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ">Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ</option>
 <option value="Ù„Ø¨Ù†ÛŒØ§Øª">Ù„Ø¨Ù†ÛŒØ§Øª</option>
 <option value="Ù…ÛŒÙˆÙ‡">Ù…ÛŒÙˆÙ‡ Ùˆ Ø³Ø¨Ø²ÛŒØ¬Ø§Øª</option>
 <option value="Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒ">Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒ</option>
 <option value="Ø®Ø§Ù†Ú¯ÛŒ">Ø®Ø§Ù†Ú¯ÛŒ</option>
 <option value="Ø³Ø§ÛŒØ±">Ø³Ø§ÛŒØ±</option>
 </select>
 </div>
 
 <div class="form-group">
 <label>Ù…ÙˆØ¬ÙˆØ¯ÛŒ:</label>
 <input type="number" id="product-stock" value="10">
 </div>
 
 <div class="form-group">
 <label>ØªÙˆØ¶ÛŒØ­Ø§Øª:</label>
 <textarea id="product-description" rows="3"></textarea>
 </div>
 
 <button type="submit" class="btn btn-success">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­ØµÙˆÙ„</button>
 <button type="button" class="btn btn-warning" onclick="generateSampleProducts()">
 ğŸ“¦ ØªÙˆÙ„ÛŒØ¯ Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†Ù…ÙˆÙ†Ù‡
 </button>
 </form>
 </div>
 
 <div>
 <h3>ğŸ“‹ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª</h3>
 <div style="margin: 15px 0;">
 <input type="text" id="search-products" placeholder="ğŸ” Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù…Ø­ØµÙˆÙ„Ø§Øª..." 
 style="width: 100%; padding: 10px; border: 2px solid #dee2e6; border-radius: 8px;">
 </div>
 <div id="products-list" class="product-grid"></div>
 </div>
 </div>
 </div>

 <!-- Tab 3: POS -->
 <div id="pos" class="tab-content">
 <div class="pos-container">
 <div class="pos-left">
 <h3>ğŸ›’ ØµÙ†Ø¯ÙˆÙ‚ ÙØ±ÙˆØ´</h3>
 
 <div class="scan-area">
 <h4>Ø§Ø³Ú©Ù† Ù…Ø­ØµÙˆÙ„</h4>
 <input type="text" 
 id="pos-barcode-input" 
 class="scan-input"
 placeholder="ğŸ” Ø¨Ø§Ø±Ú©Ø¯ Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯..."
 autocomplete="off">
 </div>
 
 <div class="form-group">
 <label>ØªØ¹Ø¯Ø§Ø¯:</label>
 <input type="number" id="pos-quantity" value="1" min="1">
 </div>
 
 <div style="text-align: center; margin: 20px 0;">
 <button class="btn btn-success" onclick="addToCart()">â• Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯</button>
 <button class="btn btn-warning" onclick="clearCart()">ğŸ—‘ï¸ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯</button>
 <button class="btn btn-primary" onclick="processPayment()">ğŸ’³ Ù¾Ø±Ø¯Ø§Ø®Øª</button>
 </div>
 
 <div id="last-scanned-product"></div>
 </div>
 
 <div class="pos-right">
 <h3 style="text-align: center; color: #ffc107;">ğŸ’° ØµÙˆØ±ØªØ­Ø³Ø§Ø¨</h3>
 <hr style="border-color: #ffc107;">
 
 <div id="cart-items"></div>
 
 <div class="cart-total">
 <div style="display: flex; justify-content: space-between;">
 <span>ØªØ¹Ø¯Ø§Ø¯ Ø§Ù‚Ù„Ø§Ù…:</span>
 <span id="cart-count">0</span>
 </div>
 <div style="display: flex; justify-content: space-between;">
 <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
 <span id="cart-total">0 Ø±ÛŒØ§Ù„</span>
 </div>
 </div>
 </div>
 </div>
 </div>

 <!-- Tab 4: Reports -->
 <div id="reports" class="tab-content">
 <h3>ğŸ“Š Ú¯Ø²Ø§Ø±Ø´Ø§Øª Ùˆ Ø¢Ù…Ø§Ø±</h3>
 
 <div class="stats-grid">
 <div class="stat-box">
 <div class="stat-number" id="total-products">0</div>
 <div>Ú©Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
 </div>
 <div class="stat-box">
 <div class="stat-number" id="total-sales">0</div>
 <div>Ú©Ù„ ÙØ±ÙˆØ´</div>
 </div>
 <div class="stat-box">
 <div class="stat-number" id="total-revenue">0</div>
 <div>Ø¯Ø±Ø¢Ù…Ø¯ (Ø±ÛŒØ§Ù„)</div>
 </div>
 <div class="stat-box">
 <div class="stat-number" id="avg-sale">0</div>
 <div>Ù…ØªÙˆØ³Ø· ÙØ±ÙˆØ´</div>
 </div>
 </div>
 
 <div style="margin: 30px 0;">
 <button class="btn btn-info" onclick="exportData()">ğŸ“¤ Ø®Ø±ÙˆØ¬ÛŒ Excel</button>
 <button class="btn btn-warning" onclick="importSampleData()">ğŸ“¥ ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø¯Ø§Ø¯Ù‡ Ù†Ù…ÙˆÙ†Ù‡</button>
 <button class="btn btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§</button>
 </div>
 
 <div id="sales-log" style="background: #f8f9fa; padding: 20px; border-radius: 10px; max-height: 400px; overflow-y: auto;">
 <h4>ğŸ“‹ ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙØ±ÙˆØ´</h4>
 <div id="sales-history"></div>
 </div>
 </div>
 </div>

 <!-- Product Details Modal -->
 <div id="product-modal" class="modal">
 <div class="modal-content">
 <span class="close" onclick="closeModal()">&times;</span>
 <div id="modal-content"></div>
 </div>
 </div>

 <!-- Notification -->
 <div id="notification" class="notification"></div>

 <script>
 class SupermarketPOS {
 constructor() {
 this.products = JSON.parse(localStorage.getItem('products')) || [];
 this.cart = [];
 this.sales = JSON.parse(localStorage.getItem('sales')) || [];
 this.scanHistory = [];
 
 this.init();
 this.loadProducts();
 this.updateReports();
 }

 init() {
 // Scanner input handlers
 const scannerInput = document.getElementById('barcode-input');
 const posInput = document.getElementById('pos-barcode-input');
 
 [scannerInput, posInput].forEach(input => {
 if (input) {
 input.addEventListener('input', (e) => this.handleBarcodeInput(e));
 input.addEventListener('keypress', (e) => {
 if (e.key === 'Enter') {
 e.preventDefault();
 this.processBarcodeInput(e.target);
 }
 });
 
 // Auto-focus
 input.addEventListener('blur', () => {
 setTimeout(() => input.focus(), 100);
 });
 }
 });

 // Product form
 const productForm = document.getElementById('product-form');
 if (productForm) {
 productForm.addEventListener('submit', (e) => {
 e.preventDefault();
 this.addProduct();
 });
 }

 // Search products
 const searchInput = document.getElementById('search-products');
 if (searchInput) {
 searchInput.addEventListener('input', (e) => {
 this.searchProducts(e.target.value);
 });
 }

 // Focus on active tab input
 document.addEventListener('click', () => {
 const activeTab = document.querySelector('.tab-content.active');
 const input = activeTab.querySelector('input[type="text"]');
 if (input && !input.matches(':focus')) {
 setTimeout(() => input.focus(), 100);
 }
 });
 }

 handleBarcodeInput(e) {
 const input = e.target;
 if (input.value.length > 0) {
 input.classList.add('scanning');
 
 // Auto-process after delay
 clearTimeout(input.autoProcessTimeout);
 input.autoProcessTimeout = setTimeout(() => {
 this.processBarcodeInput(input);
 }, 300);
 }
 }

 processBarcodeInput(input) {
 const barcode = input.value.trim();
 if (!barcode) return;

 input.classList.remove('scanning');
 
 if (input.id === 'barcode-input') {
 this.scanBarcode(barcode);
 } else if (input.id === 'pos-barcode-input') {
 this.scanForPOS(barcode);
 }
 
 input.value = '';
 this.scanHistory.push({
 barcode: barcode,
 timestamp: Date.now(),
 found: this.findProduct(barcode) !== null
 });
 
 this.updateScanStats();
 }

 scanBarcode(barcode) {
 const product = this.findProduct(barcode);
 const resultDiv = document.getElementById('scan-result');
 
 if (product) {
 resultDiv.innerHTML = `
 <div class="product-card" style="max-width: 500px; margin: 0 auto;">
 <div class="barcode-display">
 <canvas id="scanned-barcode"></canvas>
 </div>
 <div class="product-info">
 <h3>${product.name}</h3>
 <p><strong>Ø¨Ø§Ø±Ú©Ø¯:</strong> ${product.barcode}</p>
 <p><strong>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</strong> ${product.category}</p>
 <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ:</strong> ${product.stock} Ø¹Ø¯Ø¯</p>
 <p><strong>ØªÙˆØ¶ÛŒØ­Ø§Øª:</strong> ${product.description || 'Ù†Ø¯Ø§Ø±Ø¯'}</p>
 <div class="price">${this.formatPrice(product.price)} Ø±ÛŒØ§Ù„</div>
 </div>
 <div style="text-align: center; margin-top: 15px;">
 <button class="btn btn-success" onclick="pos.addProductToCart('${product.barcode}')">
 â• Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
 </button>
 <button class="btn btn-info" onclick="pos.showProductDetails('${product.barcode}')">
 ğŸ“‹ Ø¬Ø²Ø¦ÛŒØ§Øª Ú©Ø§Ù…Ù„
 </button>
 </div>
 </div>
 `;
 
 // Generate barcode
 setTimeout(() => {
 try {
 JsBarcode("#scanned-barcode", product.barcode, {
 format: "CODE128",
 width: 2,
 height: 60,
 displayValue: true
 });
 } catch (e) {
 console.error('Barcode generation error:', e);
 }
 }, 100);
 
 this.showNotification('Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ø´Ø¯!', 'success');
 } else {
 resultDiv.innerHTML = `
 <div class="product-card" style="max-width: 500px; margin: 0 auto; border-color: #dc3545;">
 <div style="text-align: center; color: #dc3545;">
 <h3>âŒ Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯</h3>
 <p><strong>Ø¨Ø§Ø±Ú©Ø¯ Ø§Ø³Ú©Ù† Ø´Ø¯Ù‡:</strong> <code>${barcode}</code></p>
 <p>Ø§ÛŒÙ† Ø¨Ø§Ø±Ú©Ø¯ Ø¯Ø± Ø³ÛŒØ³ØªÙ… Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</p>
 <div style="margin-top: 15px;">
 <button class="btn btn-primary" onclick="pos.addNewProductWithBarcode('${barcode}')">
 â• Ø«Ø¨Øª Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ Ø§ÛŒÙ† Ø¨Ø§Ø±Ú©Ø¯
 </button>
 </div>
 </div>
 </div>
 `;
 
 this.showNotification('Ø¨Ø§Ø±Ú©Ø¯ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡!', 'error');
 }
 }

 scanForPOS(barcode) {
 const product = this.findProduct(barcode);
 const resultDiv = document.getElementById('last-scanned-product');
 
 if (product) {
 resultDiv.innerHTML = `
 <div class="product-card">
 <h4>âœ… Ù…Ø­ØµÙˆÙ„ Ø§Ø³Ú©Ù† Ø´Ø¯Ù‡</h4>
 <p><strong>${product.name}</strong></p>
 <p>Ù‚ÛŒÙ…Øª: ${this.formatPrice(product.price)} Ø±ÛŒØ§Ù„</p>
 <p>Ù…ÙˆØ¬ÙˆØ¯ÛŒ: ${product.stock} Ø¹Ø¯Ø¯</p>
 </div>
 `;
 
 // Auto add to cart
 setTimeout(() => {
 this.addToCart(barcode);
 }, 500);
 } else {
 resultDiv.innerHTML = `
 <div class="product-card" style="border-color: #dc3545;">
 <h4>âŒ Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯</h4>
 <p>Ø¨Ø§Ø±Ú©Ø¯: <code>${barcode}</code></p>
 </div>
 `;
 }
 }

 addProduct() {
 const name = document.getElementById('product-name').value;
 const barcode = document.getElementById('product-barcode').value;
 const price = parseFloat(document.getElementById('product-price').value);
 const category = document.getElementById('product-category').value;
 const stock = parseInt(document.getElementById('product-stock').value);
 const description = document.getElementById('product-description').value;

 // Check if barcode already exists
 if (this.findProduct(barcode)) {
 this.showNotification('Ø§ÛŒÙ† Ø¨Ø§Ø±Ú©Ø¯ Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø§Ø³Øª!', 'error');
 return;
 }

 const product = {
 id: Date.now(),
 name,
 barcode,
 price,
 category,
 stock,
 description,
 createdAt: new Date().toISOString()
 };

 this.products.push(product);
 this.saveProducts();
 this.loadProducts();
 this.updateReports();

 // Clear form
 document.getElementById('product-form').reset();
 
 this.showNotification('Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!', 'success');
 }

 findProduct(barcode) {
 return this.products.find(p => p.barcode === barcode) || null;
 }

 loadProducts() {
 const container = document.getElementById('products-list');
 if (!container) return;

 container.innerHTML = '';

 this.products.forEach(product => {
 const productDiv = document.createElement('div');
 productDiv.className = 'product-card';
 productDiv.innerHTML = `
 <div class="barcode-display">
 <canvas id="barcode-${product.id}"></canvas>
 </div>
 <div class="product-info">
 <h4>${product.name}</h4>
 <p><strong>Ø¨Ø§Ø±Ú©Ø¯:</strong> ${product.barcode}</p>
 <p><strong>Ø¯Ø³ØªÙ‡:</strong> ${product.category}</p>
 <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ:</strong> ${product.stock} Ø¹Ø¯Ø¯</p>
 <div class="price">${this.formatPrice(product.price)} Ø±ÛŒØ§Ù„</div>
 </div>
 <div style="text-align: center; margin-top: 10px;">
 <button class="btn btn-info" onclick="pos.showProductDetails('${product.barcode}')">
 ğŸ“‹ Ø¬Ø²Ø¦ÛŒØ§Øª
 </button>
 <button class="btn btn-success" onclick="pos.addProductToCart('${product.barcode}')">
 ğŸ›’ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
 </button>
 <button class="btn btn-danger" onclick="pos.deleteProduct('${product.barcode}')">
 ğŸ—‘ï¸ Ø­Ø°Ù
 </button>
 </div>
 `;
 
 container.appendChild(productDiv);

 // Generate barcode
 setTimeout(() => {
 try {
 JsBarcode(`#barcode-${product.id}`, product.barcode, {
 format: "CODE128",
 width: 1.5,
 height: 50,
 displayValue: true,
 fontSize: 12
 });
 } catch (e) {
 console.error('Barcode generation error:', e);
 }
 }, 100);
 });
 }

 searchProducts(query) {
 const container = document.getElementById('products-list');
 if (!container) return;

 const filteredProducts = this.products.filter(product =>
 product.name.toLowerCase().includes(query.toLowerCase()) ||
 product.barcode.includes(query) ||
 product.category.toLowerCase().includes(query.toLowerCase())
 );

 container.innerHTML = '';
 // Re-render filtered products (similar to loadProducts but with filteredProducts)
 // ... (implementation similar to loadProducts)
 }

 addToCart(barcode = null) {
 const barcodeToAdd = barcode || document.getElementById('pos-barcode-input').value.trim();
 const quantity = parseInt(document.getElementById('pos-quantity').value) || 1;

 if (!barcodeToAdd) return;

 const product = this.findProduct(barcodeToAdd);
 if (!product) {
 this.showNotification('Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯!', 'error');
 return;
 }

 if (product.stock < quantity) {
 this.showNotification('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!', 'error');
 return;
 }

 // Check if product already in cart
 const existingItem = this.cart.find(item => item.barcode === barcodeToAdd);
 if (existingItem) {
 existingItem.quantity += quantity;
 existingItem.total = existingItem.quantity * existingItem.price;
 } else {
 this.cart.push({
 ...product,
 quantity: quantity,
 total: product.price * quantity
 });
 }

 this.updateCart();
 this.showNotification('Ù…Ø­ØµÙˆÙ„ Ø¨Ù‡ Ø³Ø¨Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯!', 'success');
 
 // Clear inputs
 document.getElementById('pos-barcode-input').value = '';
 document.getElementById('pos-quantity').value = '1';
 }

 addProductToCart(barcode) {
 document.getElementById('pos-barcode-input').value = barcode;
 showTab('pos');
 setTimeout(() => {
 this.addToCart(barcode);
 }, 300);
 }

 updateCart() {
 const cartContainer = document.getElementById('cart-items');
 const cartCount = document.getElementById('cart-count');
 const cartTotal = document.getElementById('cart-total');

 if (!cartContainer) return;

 cartContainer.innerHTML = '';

 let totalItems = 0;
 let totalAmount = 0;

 this.cart.forEach((item, index) => {
 totalItems += item.quantity;
 totalAmount += item.total;

 const cartItemDiv = document.createElement('div');
 cartItemDiv.className = 'cart-item';
 cartItemDiv.innerHTML = `
 <div>
 <div style="font-weight: bold;">${item.name}</div>
 <div style="font-size: 0.9em; opacity: 0.8;">${item.quantity} Ã— ${this.formatPrice(item.price)}</div>
 </div>
 <div>
 <div style="font-weight: bold; color: #ffc107;">${this.formatPrice(item.total)}</div>
 <button onclick="pos.removeFromCart(${index})" style="background: #dc3545; color: white; border: none; padding: 2px 8px; border-radius: 3px; font-size: 0.8em;">Ø­Ø°Ù</button>
 </div>
 `;
 
 cartContainer.appendChild(cartItemDiv);
 });

 cartCount.textContent = totalItems;
 cartTotal.textContent = this.formatPrice(totalAmount) + ' Ø±ÛŒØ§Ù„';
 }

 removeFromCart(index) {
 this.cart.splice(index, 1);
 this.updateCart();
 this.showNotification('Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ø³Ø¨Ø¯ Ø­Ø°Ù Ø´Ø¯', 'info');
 }

 clearCart() {
 if (this.cart.length === 0) return;
 
 if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø±Ø§ Ø®Ø§Ù„ÛŒ Ú©Ù†ÛŒØ¯ØŸ')) {
 this.cart = [];
 this.updateCart();
 document.getElementById('last-scanned-product').innerHTML = '';
 this.showNotification('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø´Ø¯', 'info');
 }
 }

 processPayment() {
 if (this.cart.length === 0) {
 this.showNotification('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª!', 'error');
 return;
 }

 const totalAmount = this.cart.reduce((sum, item) => sum + item.total, 0);
 const saleId = Date.now();

 // Create sale record
 const sale = {
 id: saleId,
 items: [...this.cart],
 total: totalAmount,
 timestamp: new Date().toISOString(),
 date: new Date().toLocaleDateString('fa-IR')
 };

 // Update stock
 this.cart.forEach(cartItem => {
 const product = this.findProduct(cartItem.barcode);
 if (product) {
 product.stock -= cartItem.quantity;
 }
 });

 // Save sale
 this.sales.push(sale);
 this.saveSales();
 this.saveProducts();

 // Clear cart
 this.cart = [];
 this.updateCart();
 this.loadProducts();
 this.updateReports();

 // Show success message
 this.showNotification(`ğŸ’³ Ù¾Ø±Ø¯Ø§Ø®Øª Ù…ÙˆÙÙ‚! Ù…Ø¨Ù„Øº: ${this.formatPrice(totalAmount)} Ø±ÛŒØ§Ù„`, 'success');
 
 // Print receipt (simulation)
 this.printReceipt(sale);
 }

 printReceipt(sale) {
 const receiptWindow = window.open('', '_blank');
 receiptWindow.document.write(`
 <html>
 <head>
 <title>Ø±Ø³ÛŒØ¯ ÙØ±ÙˆØ´</title>
 <style>
 body { font-family: Tahoma; text-align: center; padding: 20px; }
 .receipt { max-width: 300px; margin: 0 auto; }
 .item { display: flex; justify-content: space-between; margin: 5px 0; }
 .total { border-top: 2px solid #000; margin-top: 10px; padding-top: 10px; font-weight: bold; }
 </style>
 </head>
 <body>
 <div class="receipt">
 <h2>ğŸ›’ Ø³ÙˆÙ¾Ø±Ù…Ø§Ø±Ú©Øª</h2>
 <p>Ø±Ø³ÛŒØ¯ ÙØ±ÙˆØ´ #${sale.id}</p>
 <p>${sale.date}</p>
 <hr>
 ${sale.items.map(item => `
 <div class="item">
 <span>${item.name} (${item.quantity})</span>
 <span>${this.formatPrice(item.total)}</span>
 </div>
 `).join('')}
 <div class="total">
 <div class="item">
 <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
 <span>${this.formatPrice(sale.total)} Ø±ÛŒØ§Ù„</span>
 </div>
 </div>
 <p style="margin-top: 20px;">Ø¨Ø§ ØªØ´Ú©Ø± Ø§Ø² Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§</p>
 </div>
 </body>
 </html>
 `);
 receiptWindow.document.close();
 receiptWindow.print();
 }

 showProductDetails(barcode) {
 const product = this.findProduct(barcode);
 if (!product) return;

 const modal = document.getElementById('product-modal');
 const content = document.getElementById('modal-content');
 
 content.innerHTML = `
 <h3>ğŸ“‹ Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„</h3>
 <div class="barcode-display">
 <canvas id="modal-barcode"></canvas>
 </div>
 <div class="product-info">
 <p><strong>Ù†Ø§Ù…:</strong> ${product.name}</p>
 <p><strong>Ø¨Ø§Ø±Ú©Ø¯:</strong> ${product.barcode}</p>
 <p><strong>Ù‚ÛŒÙ…Øª:</strong> ${this.formatPrice(product.price)} Ø±ÛŒØ§Ù„</p>
 <p><strong>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</strong> ${product.category}</p>
 <p><strong>Ù…ÙˆØ¬ÙˆØ¯ÛŒ:</strong> ${product.stock} Ø¹Ø¯Ø¯</p>
 <p><strong>ØªÙˆØ¶ÛŒØ­Ø§Øª:</strong> ${product.description || 'Ù†Ø¯Ø§Ø±Ø¯'}</p>
 <p><strong>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øª:</strong> ${new Date(product.createdAt).toLocaleDateString('fa-IR')}</p>
 </div>
 `;
 
 modal.style.display = 'block';
 
 setTimeout(() => {
 try {
 JsBarcode("#modal-barcode", product.barcode, {
 format: "CODE128",
 width: 2,
 height: 80,
 displayValue: true
 });
 } catch (e) {
 console.error('Barcode generation error:', e);
 }
 }, 100);
 }

 deleteProduct(barcode) {
 if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ')) {
 this.products = this.products.filter(p => p.barcode !== barcode);
 this.saveProducts();
 this.loadProducts();
 this.updateReports();
 this.showNotification('Ù…Ø­ØµÙˆÙ„ Ø­Ø°Ù Ø´Ø¯', 'info');
 }
 }

 generateRandomBarcode() {
 const randomBarcode = Math.floor(Math.random() * 9000000000000) + 1000000000000;
 document.getElementById('product-barcode').value = randomBarcode.toString();
 }

 generateSampleProducts() {
 const sampleProducts = [
 { name: 'Ù†Ø§Ù† ØªØ³Øª', category: 'Ø®ÙˆØ±Ø§Ú©ÛŒ', price: 15000, stock: 20, description: 'Ù†Ø§Ù† ØªØ³Øª ØªØ§Ø²Ù‡ Ùˆ Ø®ÙˆØ´Ù…Ø²Ù‡' },
 { name: 'Ø´ÛŒØ± Ú©Ù… Ú†Ø±Ø¨', category: 'Ù„Ø¨Ù†ÛŒØ§Øª', price: 25000, stock: 15, description: 'Ø´ÛŒØ± Ú©Ù… Ú†Ø±Ø¨ ÛŒÚ© Ù„ÛŒØªØ±ÛŒ' },
 { name: 'Ø³ÛŒØ¨ Ù‚Ø±Ù…Ø²', category: 'Ù…ÛŒÙˆÙ‡', price: 35000, stock: 30, description: 'Ø³ÛŒØ¨ Ù‚Ø±Ù…Ø² Ø¯Ø±Ø¬Ù‡ ÛŒÚ©' },
 { name: 'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ú©ÙˆÙ„Ø§', category: 'Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ', price: 18000, stock: 25, description: 'Ù†ÙˆØ´Ø§Ø¨Ù‡ Ú©ÙˆÙ„Ø§ 330 Ù…ÛŒÙ„ÛŒâ€ŒÙ„ÛŒØªØ±' },
 { name: 'Ø´Ø§Ù…Ù¾Ùˆ Ø¨Ú†Ù‡', category: 'Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒ', price: 45000, stock: 10, description: 'Ø´Ø§Ù…Ù¾Ùˆ Ù…Ø®ØµÙˆØµ Ú©ÙˆØ¯Ú©Ø§Ù†' }
 ];

 sampleProducts.forEach(product => {
 const barcode = Math.floor(Math.random() * 9000000000000) + 1000000000000;
 this.products.push({
 id: Date.now() + Math.random(),
 ...product,
 barcode: barcode.toString(),
 createdAt: new Date().toISOString()
 });
 });

 this.saveProducts();
 this.loadProducts();
 this.updateReports();
 this.showNotification('Ù…Ø­ØµÙˆÙ„Ø§Øª Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù†Ø¯!', 'success');
 }

 addNewProductWithBarcode(barcode) {
 showTab('products');
 document.getElementById('product-barcode').value = barcode;
 document.getElementById('product-name').focus();
 }

 updateScanStats() {
 const totalScans = this.scanHistory.length;
 const foundProducts = this.scanHistory.filter(scan => scan.found).length;
 const unknownBarcodes = totalScans - foundProducts;

 document.getElementById('total-scans').textContent = totalScans;
 document.getElementById('found-products').textContent = foundProducts;
 document.getElementById('unknown-barcodes').textContent = unknownBarcodes;
 }

 updateReports() {
 const totalProducts = this.products.length;
 const totalSales = this.sales.length;
 const totalRevenue = this.sales.reduce((sum, sale) => sum + sale.total, 0);
 const avgSale = totalSales > 0 ? Math.round(totalRevenue / totalSales) : 0;

 document.getElementById('total-products').textContent = totalProducts;
 document.getElementById('total-sales').textContent = totalSales;
 document.getElementById('total-revenue').textContent = this.formatPrice(totalRevenue);
 document.getElementById('avg-sale').textContent = this.formatPrice(avgSale);

 // Update sales history
 const salesHistory = document.getElementById('sales-history');
 if (salesHistory) {
 salesHistory.innerHTML = '';
 this.sales.slice(-10).reverse().forEach(sale => {
 const saleDiv = document.createElement('div');
 saleDiv.innerHTML = `
 <div style="padding: 10px; margin: 5px 0; background: white; border-radius: 5px; border-left: 4px solid #007bff;">
 <strong>ÙØ±ÙˆØ´ #${sale.id}</strong> - ${sale.date}<br>
 ${sale.items.length} Ù‚Ù„Ù… - Ù…Ø¨Ù„Øº: ${this.formatPrice(sale.total)} Ø±ÛŒØ§Ù„
 </div>
 `;
 salesHistory.appendChild(saleDiv);
 });
 }
 }

 exportData() {
 const data = {
 products: this.products,
 sales: this.sales,
 exportDate: new Date().toISOString()
 };

 const dataStr = JSON.stringify(data, null, 2);
 const dataBlob = new Blob([dataStr], { type: 'application/json' });
 const url = URL.createObjectURL(dataBlob);
 
 const link = document.createElement('a');
 link.href = url;
 link.download = `supermarket_data_${new Date().toISOString().split('T')[0]}.json`;
 link.click();
 
 this.showNotification('Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØµØ§Ø¯Ø± Ø´Ø¯Ù†Ø¯!', 'success');
 }

 importSampleData() {
 // Add more sample data
 this.generateSampleProducts();
 
 // Add some sample sales
 const sampleSales = [
 {
 id: Date.now() - 86400000,
 items: [{ name: 'Ù†Ø§Ù† ØªØ³Øª', quantity: 2, price: 15000, total: 30000 }],
 total: 30000,
 timestamp: new Date(Date.now() - 86400000).toISOString(),
 date: new Date(Date.now() - 86400000).toLocaleDateString('fa-IR')
 }
 ];
 
 this.sales.push(...sampleSales);
 this.saveSales();
 this.updateReports();
 
 this.showNotification('Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù†Ø¯!', 'success');
 }

 clearAllData() {
 if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØªÙ…Ø§Ù… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†ÛŒØ¯ØŸ')) {
 this.products = [];
 this.sales = [];
 this.cart = [];
 this.scanHistory = [];
 
 localStorage.removeItem('products');
 localStorage.removeItem('sales');
 
 this.loadProducts();
 this.updateCart();
 this.updateReports();
 this.updateScanStats();
 
 this.showNotification('ØªÙ…Ø§Ù… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯!', 'info');
 }
 }

 saveProducts() {
 localStorage.setItem('products', JSON.stringify(this.products));
 }

 saveSales() {
 localStorage.setItem('sales', JSON.stringify(this.sales));
 }

 formatPrice(price) {
 return new Intl.NumberFormat('fa-IR').format(price);
 }

 showNotification(message, type = 'info') {
 const notification = document.getElementById('notification');
 notification.textContent = message;
 notification.className = `notification ${type}`;
 notification.classList.add('show');

 setTimeout(() => {
 notification.classList.remove('show');
 }, 3000);
 }
 }

 // Global functions
 function showTab(tabName) {
 // Hide all tab contents
 document.querySelectorAll('.tab-content').forEach(tab => {
 tab.classList.remove('active');
 });
 
 // Remove active class from all tabs
 document.querySelectorAll('.tab').forEach(tab => {
 tab.classList.remove('active');
 });
 
 // Show selected tab content
 document.getElementById(tabName).classList.add('active');
 
 // Add active class to selected tab
 event.target.classList.add('active');
 
 // Focus on input in active tab
 setTimeout(() => {
 const activeTab = document.querySelector('.tab-content.active');
 const input = activeTab.querySelector('input[type="text"]');
 if (input) input.focus();
 }, 100);
 }

 function closeModal() {
 document.getElementById('product-modal').style.display = 'none';
 }

 function generateRandomBarcode() {
 pos.generateRandomBarcode();
 }

 function generateSampleProducts() {
 pos.generateSampleProducts();
 }

 function addToCart() {
 pos.addToCart();
 }

 function clearCart() {
 pos.clearCart();
 }

 function processPayment() {
 pos.processPayment();
 }

 function exportData() {
 pos.exportData();
 }

 function importSampleData() {
 pos.importSampleData();
 }

 function clearAllData() {
 pos.clearAllData();
 }

 // Initialize POS system
 let pos;
 window.addEventListener('DOMContentLoaded', () => {
 pos = new SupermarketPOS();
 
 // Close modal when clicking outside
 window.addEventListener('click', (e) => {
 const modal = document.getElementById('product-modal');
 if (e.target === modal) {
 closeModal();
 }
 });
 });
 </script>
</body>
</html>
